/*
 * Copyright 2012 Max Schuster 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 */

(function(d,e){var i=function(a){var b=d(a.target),c=b.data("validator"),e=c.settings.ajax,g=c.valid,a=c.mask,f=b.val(),i=c.settings.rel;if(c.oldValue!==f){c.oldValue=f;var h=function(a){c.valid=a;b.data("validator",c);a?(b.removeClass("validator-invalid"),g!==a&&b.trigger("valid.validator")):(b.addClass("validator-invalid"),g!==a&&b.trigger("invalid.validator"));b.trigger("checkedvalue.validator")};!0===c.disabled||!0===c.settings.optional&&""===f?h(!0):!1!==i?(a=d(i),h(a.validator("valid")&&f===
a.val())):!1!==e?(c.ajaxTimer.timer({delay:c.ajaxRefreshInterval,autoStart:!0}).on("complete.timer",function(){d.ajax({url:e,dataType:"json",cache:!1,type:"post",data:{jquery_validate:f},success:function(a){b.removeClass("validator-loading");h(a)},error:function(){b.removeClass("validator-loading");h(!1)}})}),b.addClass("validator-loading")):(a.lastIndex=0,h(a.test(f)));b.data("validator",c)}},g={init:function(a){return this.each(function(){var b=d(this),c=b.data("validator");if(b.is('input[type="text"], input[type="password"], textarea')){c||
(c={settings:{mask:"required",predefinedMasks:{email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,required:/^.+$/gm,zip_code_ger_and_at:/^\d{4,5}$/,no_white_space:/^\w+$/g,number:/^\d+((?:\.\d{0,})?(?:\,\d{0,})?)$/,integer:/^\d+$/,date_day_month_year:/^\d{1,2}\.\d{1,2}\.(\d{2}|\d{4})$/,date_year_month_day:/^\d{4}-\d{2}-\d{2}$/},ajax:!1,ajaxRefreshInterval:2E3,optional:!1,liveCheck:!1,rel:!1},
mask:null,valid:!1,disabled:!1,ajaxTimer:d({}),oldValue:void 0});b.addClass("validator");d.extend(!0,c.settings,a);c.mask="string"===typeof c.settings.mask?c.settings.predefinedMasks[c.settings.mask]?c.settings.predefinedMasks[c.settings.mask]:RegExp(c.settings.mask):c.settings.mask;b.data("validator",c);b.off(".validator");if(!0===c.settings.liveCheck)b.on("keydown.validator keyup.validator keypress.validator change.validator blur.validator",i);else b.on("change.validator blur.validator",i);b.trigger("change.validator");
if(c.settings.rel)d(c.settings.rel).on("checkedvalue.validator",function(){b.trigger("change.validator")})}})},destroy:function(){return this.each(function(){var a=d(this);a.data("validator")!==e&&(a.off(".validator"),a.removeData("validator").removeClass("validator validator-invalid"))})},disable:function(){return this.each(function(){var a=d(this),b=a.data("validator");b!==e&&(b.disabled=!0,a.data("validator",b),a.trigger("change.validator"))})},enable:function(){return this.each(function(){var a=
d(this),b=a.data("validator");b!==e&&(b.disabled=!1,a.data("validator",b),a.trigger("change.validator"))})},valid:function(){var a=!0;d(this).each(function(){var b=d(this).data("validator");if(b!==e&&!1===b.valid)return a=!1});return a}};d.fn.validator=function(a){if(g[a])return g[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return g.init.apply(this,arguments);d.error("Method "+a+" does not exist on jQuery.vaidator")}})(jQuery);

(function(c,f){var g=function(){return this.each(function(){var b=c(this),a=b.data("timer");c.extend(a,{currentCount:a.currentCount+1});c(this).data("timer",a);0!==a.settings.repeatCount&&a.currentCount>=a.settings.repeatCount?(b.timer("stop",!1),b.trigger("complete.timer",{delay:a.settings.delay,repeatCount:a.settings.repeatCount,currentCount:a.currentCount,running:a.running})):b.trigger("tick.timer",{delay:a.settings.delay,repeatCount:a.settings.repeatCount,currentCount:a.currentCount,running:a.running})})},
e={init:function(b){return this.each(function(){var a=c(this),d=a.data("timer");d&&a.timer("destroy");d={currentCount:0,running:!1,interval:null,settings:{delay:1E3,repeatCount:1,autoStart:!1}};c.extend(d.settings,b);a.data("timer",d);!0===d.settings.autoStart&&a.timer("start")})},destroy:function(){return this.each(function(){var b=c(this),a=b.data("timer");b.timer("stop",!1);b.trigger("destroy.timer",{delay:a.settings.delay,repeatCount:a.settings.repeatCount,currentCount:a.currentCount,running:a.running});
b.off(".timer");b.removeData("timer")})},reset:function(){return this.each(function(){var b=c(this),a=b.data("timer");b.timer("stop",!1);c.extend(a,{currentCount:0});c(this).data("timer",a);b.trigger("reset.timer",{delay:a.settings.delay,repeatCount:a.settings.repeatCount,currentCount:a.currentCount,running:a.running})})},start:function(){return this.each(function(){var b=c(this),a=b.data("timer");c.extend(a,{interval:setInterval(c.proxy(g,b),a.settings.delay),running:!0});c(this).data("timer",a);
b.trigger("start.timer",{delay:a.settings.delay,repeatCount:a.settings.repeatCount,currentCount:a.currentCount,running:a.running})})},stop:function(b){b===f&&(b=!0);return this.each(function(){var a=c(this),d=a.data("timer");clearInterval(d.interval);c.extend(d,{interval:null,running:!1});c(this).data("timer",d);!0===b&&a.trigger("stop.timer",{delay:d.settings.delay,repeatCount:d.settings.repeatCount,currentCount:d.currentCount,running:d.running})})}};c.fn.timer=function(b){if(e[b])return e[b].apply(this,
Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return e.init.apply(this,arguments);c.error("Method "+b+" does not exist on jQuery.timer")}})(jQuery);